# lab2实验报告

(我不觉得我能在200字以内讲完我干了啥)

## 需要修改的代码

### 重写 sys_get_time 和 sys_task_info

由于使用了虚拟地址，因此，这两个函数得到的参数，是相应任务的虚拟地址，而这两个函数本身是运行在内核空间内的。首先需要得到这两个函数参数指针的实际地址，随后把内容写入到那里去。

对于该实际地址，使用PageTable：：from_token得到一个手动查找的页表。同时使用find_pte和translate获得参数指针所在的物理页表，然后和物理页表的最后12位进行或运算，得到参数指针的实际物理地址。

随后的内容和lab1里面基本一样。

因为两个函数得到物理地址的过程一样，所以可以另外写一个函数来减少代码量。

### mmap 和 munmap 匿名映射
